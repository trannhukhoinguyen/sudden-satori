---
// Theme toggle component - no props needed
import SunIconSVG from "./svg/SunIconSVG.astro";
import MoonIconSVG from "./svg/MoonIconSVG.astro";
---

<button
  id="theme-toggle"
  aria-label="Toggle dark mode"
  title="Toggle dark mode"
  class="theme-toggle"
>
  <SunIconSVG />
  <MoonIconSVG />
</button>

<style>
  /*THEME TOGGLE*/
  .theme-toggle {
    background: none;
    border: none;
    padding: calc(var(--grid-unit));
    cursor: pointer;
    color: var(--color-text-primary);
    display: flex;
    align-items: center;
    justify-content: center;
    transition: color 0.2s ease;
  }

  .theme-toggle:hover {
    color: var(--color-accent-gold);
  }

  [data-theme="light"] .moon-icon,
  [data-theme="dark"] .sun-icon {
    display: none;
  }
</style>

<script>
  const toggle = document.getElementById('theme-toggle');

  function setTheme(theme: string) {
    document.documentElement.dataset.theme = theme;
    localStorage.setItem('theme', theme);
  }

  toggle?.addEventListener('click', () => {
    const current = document.documentElement.dataset.theme || 'light';
    const next = current === 'light' ? 'dark' : 'light';
    setTheme(next);
  });
</script>
