---
import GoogleMap from "@/components/ui/GoogleMap.astro";

const {
  name= "",
  titleName= "Th∆∞·ª£ng t·ªça",
  abbot= "",
  phone= "",
  image= "",
  showSchedule= true,
  scheduleTitle= "Th·ªùi kh√≥a",
  scheduleSubTiTle= "Thi·ªÅn Th·∫•t",
  scheduleTime= "",
  scheduleRepeat= "H√†ng Th√°ng",
  dayTimeArray= [
    '4:00 - 6:00',
    '8:0 - 11:00',
    '13:00 - 17:00',
    '18:30 - 20:30',
  ],
  address= "",
  mapEmbed= "",
} = Astro.props;

// Ki·ªÉm tra xem slot c√≥ n·ªôi dung kh√¥ng
const hasContent = Astro.slots.default;
---

<style>
    .wrap {
        display: grid;
        gap: 1.5rem;
        margin: 2rem 0;
    }

    /* Khi c√≥ n·ªôi dung ‚Üí chia 2 c·ªôt */
    .with-content {
        grid-template-columns: 280px 1fr;
    }

    /* Khi kh√¥ng c√≥ n·ªôi dung ‚Üí 1 c·ªôt full */
    .no-content {
        grid-template-columns: 1fr;
    }

    @media(max-width: 860px){
        .with-content {
            grid-template-columns: 1fr;
        }
    }

    .sidebar {
        padding: 1rem;
        border-radius: 12px;
    }

    img {
        width: 100%;
        border-radius: 10px;
        margin: 0.8rem 0 1.2rem 0;
    }
</style>

<div class={`wrap ${hasContent ? "with-content" : "no-content"}`}>
  <!-- SIDEBAR -->
  <div class="sidebar">

    {image && <img src={image} alt={abbot} />}

    <h4>üîî Tr·ª• tr√¨</h4>
    <p>{titleName}</p>
    <h3>{abbot}</h3>

    {phone && <p class="text-accent"><strong>üìû</strong>{" " + phone}</p>}

    <hr />

    {
      showSchedule
      && scheduleTime
      && dayTimeArray
      &&
      <h4>üìÜ {scheduleTitle} {scheduleSubTiTle}</h4>
      <h5>{scheduleTime} (√ÇL) {scheduleRepeat}</h5>
      <ul>
        <li>Khuya: <b>{dayTimeArray[0]}</b></li>
        <li>S√°ng: <b>{dayTimeArray[1]}</b></li>
        <li>Chi·ªÅu: <b>{dayTimeArray[2]}</b></li>
        <li>T·ªëi: <b>{dayTimeArray[3]}</b></li>
      </ul>

      <hr />
    }

    <h4>üçÅ ƒê·ªãa ch·ªâ</h4>
    <p class="text-accent">{address}</p>

    {
      mapEmbed
      &&
      <GoogleMap
        embed={mapEmbed}
      />
    }
  </div>

  <!-- MAIN CONTENT (n·∫øu c√≥) -->
  {hasContent && (
    <div>
      <slot />
    </div>
  )}
</div>
