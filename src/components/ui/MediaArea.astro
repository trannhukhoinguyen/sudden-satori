---
import LogoYoutube from "./LogoYoutube.astro";

// Get the frontmatter data
const { frontmatter } = Astro.props;
---

<div class="mb-8 space-y-6">
    {
        frontmatter?.videoUrl && (
                    <div>
                        <div class="video-container">
                            <iframe
                                src={frontmatter.videoUrl + `?start=${frontmatter.videoStart ? frontmatter.videoStart : 0}`}
                                title={frontmatter.title}
                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                                allowfullscreen
                                class="w-full h-full"
                            ></iframe>
                        </div>
                    </div>
        )
    }

    <!--      {
            frontmatter?.audioUrl && (
              <div>
                <h3 class="text-xl font-bold mb-4" title="Listen">ðŸŽ§</h3>
                <audio controls class="w-full">
                  <source src={frontmatter.audioUrl} type="audio/mpeg">
                  Your browser does not support the audio element.
                </audio>
              </div>
            )
          } -->

     {
            frontmatter?.audioUrl && (
              <div>
                <h3 class="text-xl font-bold mb-4" title="Listen">ðŸŽ§</h3>
                <video width="640" height="360" controls poster="/cover.jpg">
                  <source src={frontmatter.audioUrl} type="audio/mpeg" />
                  <track src={frontmatter.vtt} kind="subtitles" srclang="en" label="Lyrics" default />
                </video>
              </div>
            )
          }
    {
        frontmatter?.audioUrls?.length &&
            frontmatter?.audioUrls?.map((url: any, index: any) => (
                    <div class="audio-block">
                        {index === 0 ? <h3 class="audio-heading" title="Listen">ðŸŽ§</h3> : ''}
                        <h4 class="audio-subheading" title={url}>{index + 1}</h4>
                        <audio controls class="audio-player">
                            <source src={url} type="audio/mpeg" />
                            Your browser does not support the audio element.
                        </audio>
                    </div>
            ))
    }

</div>

<style>

/*Video*/
.video-container {
    position: relative;
    width: 100%;
    padding-bottom: 56.25%; /* 16:9 = 9/16 = 0.5625 */
    height: 0;
    overflow: hidden;
    border-radius: 8px;
}

.video-container iframe {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: 0;
}

/*Audio*/
.audio-block {
    margin-bottom: 1rem; /* tÆ°Æ¡ng Ä‘Æ°Æ¡ng mb-4 */
}

.audio-heading {
    font-size: 1.25rem;   /* tÆ°Æ¡ng Ä‘Æ°Æ¡ng text-xl */
    font-weight: bold;    /* font-bold */
    margin-bottom: 1rem;  /* mb-4 */
}

.audio-subheading {
    font-size: 1rem;   /* text-xl */
    font-weight: bold;    /* font-bold */
    margin-bottom: 1rem;  /* mb-4 */
}

.audio-player {
    width: 100%;          /* w-full */
    display: block;
}

</style>
