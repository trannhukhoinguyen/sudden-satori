---
import type { MasterAvatar } from '@/data/masterAvatars';

interface Props { avatars: MasterAvatar[]; speedMs?: number; }
const { avatars = [], speedMs = 100000 } = Astro.props as Props;
---

<div class="overflow-hidden relative z-10 mx-auto px-8 py-4">
    <div class="[mask-image:linear-gradient(to_right,transparent,black_10%,black_90%,transparent)]">
        <div class="flex will-change-transform w-max translate-x-0" style={`animation: carousel-scroll ${speedMs}ms linear infinite`}>
            {[...avatars, ...avatars].map((tool) => (
                    <div class="group flex flex-col items-center justify-center px-6 py-7 mx-4 min-w-[160px] md:min-w-[180px] rounded-lg">
                        <div class="w-10 h-10 mb-2 flex items-center justify-center">
                            <img src={tool.logo} alt={tool.name} width="40" height="40" class="w-full h-full object-contain transition duration-300 group-hover:scale-110 light:grayscale light:opacity-80 dark:invert dark:brightness-0 dark:saturate-0 dark:group-hover:filter-none" />
                        </div>
                        <span class="text-sm font-semibold text-[color:var(--color-text-muted)] transition-colors">{tool.name}</span>
                    </div>
            ))}
        </div>
    </div>
</div>

<style>
    /* Carousel animation utility */
    @keyframes carousel-scroll {
        0% { transform: translateX(-20%); }
        100% { transform: translateX(-70%); }
    }

    .animate-carousel {
        animation: carousel-scroll 120s linear infinite;
    }
</style>

